{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/Persons.js","components/Notification.js","services/Persons.js","App.js","index.js"],"names":["Filter","filter","handler","value","onChange","PersonForm","submitHandler","name","handleNameChange","number","handleNumberChange","onSubmit","type","Person","person","handleDeletePerson","id","onClick","Persons","persons","map","Notification","message","className","text","baseUrl","axios","get","then","response","data","newObject","post","put","delete","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","setFilter","setMessage","useEffect","personService","initialPersons","console","log","length","notify","setTimeout","personsFiltered","toLowerCase","includes","event","target","preventDefault","personObject","found","find","window","confirm","returnedPerson","sort","a","b","nameA","nameB","catch","error","pf","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.67d1ccbe.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({ filter, handler }) => {\n  return (\n    <div>\n      filter shown with <input value={filter} onChange={handler} />\n    </div>\n  )\n}\n\nexport default Filter","import React from 'react'\n\nconst PersonForm = ({submitHandler, name, handleNameChange, number, handleNumberChange}) => {\n  return (\n    <form onSubmit={submitHandler}>\n      <div>\n        name: <input value={name} onChange={handleNameChange} />\n      </div>\n      <div>\n        number: <input value={number} onChange={handleNumberChange} />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Person = ({person, handleDeletePerson}) => {\n  return (\n    <p>\n      {person.name} {person.number}  <button type=\"button\" id={person.id} onClick={handleDeletePerson}>Delete</button> \n    </p>\n  )\n}\n\nexport default Person","import React from 'react'\nimport Person from './Person'\n\nconst Persons = ({persons, handleDeletePerson}) => {\n  return (\n    <>\n      {persons.map(person => <Person key={person.name} person={person} handleDeletePerson={handleDeletePerson} /> )}\n    </>\n  )\n}\n\nexport default Persons","const Notification = ({message}) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className={message.type}>\n    {message.text}\n    </div>\n  )\n}\n\nexport default Notification","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  return axios.get(baseUrl).then(response => response.data)\n}\n\nconst create = newObject => {\n  return axios.post(baseUrl, newObject).then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  return axios.put(`${baseUrl}/${id}`, newObject).then(response => response.data)\n}\n\nconst deleteEntry = (id) => {\n  return axios.delete(`${baseUrl}/${id}`).then(response => response.data)\n}\n\nexport default { getAll, create, update, deleteEntry }","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport Notification from './components/Notification'\nimport personService from './services/Persons'\n\nimport './index.css'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ filter, setFilter ] = useState('')\n  const [ message, setMessage] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        console.log('promise fulfilled')\n        setPersons(initialPersons)\n      })\n    }, [])\n    console.log('render', persons.length, 'persons')\n\n  const handleNameChange = (event) => {\n    console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    console.log(event.target.value)\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    console.log(event.target.value)\n    setFilter(event.target.value)\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }\n    var found = persons.find(person => person.name === newName)\n\n    if(found) {\n      var result = window.confirm(`${found.name} is already added to phonebook, replace the old number with the new one?`)\n      if(result) {\n        personService\n          .update(found.id, personObject)\n          .then(returnedPerson => {\n            setPersons(persons.map(person => person.id === found.id ? returnedPerson : person).sort((a, b) => {\n              let nameA = a.name.toLowerCase()\n              let nameB = b.name.toLowerCase()\n              if (nameA > nameB) {\n                return 1;\n              }\n              if (nameA < nameB) {\n                return -1;\n              }\n              return 0;\n            }))\n            notify(`${found.name} has been updated.`, \"info\")\n          })\n          .catch(error => notify(`Information of ${personObject.name} has already been removed from server.`, \"error\"))\n      }\n    } else {\n      personService\n        .create(personObject)\n        .then(returnedPerson => {\n          setPersons(returnedPerson.sort((a, b) => {\n            let nameA = a.name.toLowerCase()\n            let nameB = b.name.toLowerCase()\n            if (nameA > nameB) {\n              return 1;\n            }\n            if (nameA < nameB) {\n              return -1;\n            }\n            return 0;\n          }))\n          notify(`${personObject.name} has been added.`, \"info\")\n        })\n    }\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const deletePerson = (event) => {\n    var person = persons.find(person => person.id == event.target.id)\n    var result = window.confirm(`Delete ${person.name} ?`)\n    if(result) {\n      personService\n        .deleteEntry(person.id)\n        .then(() => {\n          setPersons(persons.filter(pf => pf.id !== person.id ).sort((a, b) => {\n            let nameA = a.name.toLowerCase()\n            let nameB = b.name.toLowerCase()\n            if (nameA > nameB) {\n              return 1;\n            }\n            if (nameA < nameB) {\n              return -1;\n            }\n            return 0;\n          }))\n          notify(`${person.name} has been deleted.`, \"info\")\n        })\n        .catch(error => notify(`Information of ${person.name} has already been removed from server.`, \"error\"))\n    }\n  }\n\n  const notify = (text, type) => {\n    console.log(type, text)\n    setMessage({text, type})\n    setTimeout(() => {\n      setMessage(null)\n    }, 2000)\n  }\n\n  const personsFiltered = filter ? persons.filter(person => person.name.toLowerCase().includes(filter.toLowerCase())) : persons\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} />\n      <Filter filter={filter} handler={handleFilterChange} />\n      <h2>Add a new</h2>\n      <PersonForm submitHandler={addPerson} name={newName} handleNameChange={handleNameChange} number={newNumber} handleNumberChange={handleNumberChange} />\n      <h2>Numbers</h2>\n      <Persons persons={personsFiltered} handleDeletePerson={deletePerson} />\n    </div>\n  )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />,document.getElementById('root'))"],"sourceRoot":""}